#cloud-config

users:
- name: ansible
  gecos: Ansible User
  groups: users,admin,wheel
  sudo: "ALL=(ALL) NOPASSWD:ALL"
  shell: /bin/bash
  lock_passwd: true
  ssh_authorized_keys:
    - "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIGsi4AEpzsL+XM2lbqaUHESHilYBvjPUm1dlqEtctarq"

locale: en_GB
timezone: Europe/London
keyboard:
  layout: gb

ssh_pwauth: false
allow_public_ssh_keys: true
disable_root: true
no_ssh_fingerprints: false
ssh:
  emit_keys_to_console: false

package_reboot_if_required: true
package_update: true
package_upgrade: true
packages:
  - qemu-guest-agent
  - wget
  - curl
  - git
  - nano
  - tmux

write_files:
- encoding: b64
  content: XFMKS2VybmVsIFxyIG9uIGFuIFxtCgpJUCBBZGRyZXNzOiBcNAoKVG9kYXkgaXMgXGQgXHQgQCBcbgo=
  owner: root:root
  path: /etc/issue
  permissions: '0644'

power_state:
  delay: 30
  mode: reboot
